{
    "api": {
        "version": "0.1",
        "description": "Ring API - REST documentation",
        "license": "GPLv3",
        "url": "https://github.com/sevaivanov/ring-api/",
        "authors": {
            "Seva Ivanov": "seva.ivanov@savoirfairelinux.com",
            "Simon Zeni": "simon.zeni@savoirfairelinux.com"
        },

        "syntax": {
            "todo": {
                "comment": "Unfinished tasks",
                "things": [
                    "write human text explaining this API"
                ]
            },
            ["comment", "comments"]: "Important comment",

            "types": {
                "comments": {
                    "Types are requests supported types",
                    "Every POST, PUT and response data is in JSON format",
                    "Responses includes 'success' and a html 'status' variables"
                },
                "GET": "Get",
                "POST": "Create",
                "PUT": "Update",
                "DELETE": "Delete action"
            },

            "structure": {
                "comments": {
                    "Template explaining the structure of resources with types, values and arguments",
                    "values": {
                        "Not specified implies that you get them from a GET request, see <type2>, i.e. /account/"
                    },
                    "arguments": {
                        "Required that can't be obtained from a GET are listed, see <type4>, i.e. /accounts/<account_id>/message/"
                    }
                },
                "/<resource>/": {
                    "<type1>": "Function name of libring <interface.h>",
                    "<type2>": {
                        "<argument>": "Function name of libring <interface.h>"
                    },
                    "<type3>": {
                        "<argument>": {
                            "<value2>": "Function name of libring <interface.h>",
                            "<value2>": "Function name of libring <interface.h>"
                        }
                    },
                    "<type4>": {
                        ["<argument1>", "<argument2>"]: "Function name of libring <interface.h>"
                    }
                }
            },

            "empty_lines": {
                1: "Resources are under the same root resource",
                2: "Resources are different root resources"
            }
        }
    },

    "/api/v0.1/websocket/port/": {
        "GET": "Returns the connection port"
    },

    "/api/v0.1/account/": {
       "GET": {
            "type": {
                "SIP": "getAccountTemplate",
                "IAX": "getAccountTemplate",
                "RING": "getAccountTemplate"
            }
        },
        "POST": {
            "details": "addAccount"
        }
    },

    "/api/v0.1/accounts/": {
        "GET": "getAccountList"
    },

    "/api/v0.1/accounts/<account_id>/": {
        "DELETE": "removeAccount"
    },

    "/api/v0.1/accounts/<account_id>/details/": {
        "GET": {
            "type": {
                "default": "getAccountDetails",
                "volatile": "getVolatileAccountDetails"
            }
        },
        "PUT": "setAccountDetails"
    },

    "/api/v0.1/accounts/<account_id>/ciphers/": {
        "GET": "getSupportedCiphers"
    },

    "/api/v0.1/accounts/<account_id>/codecs/": {
        "GET": "getActiveCodecList",
        "PUT": "setActiveCodecList"
    },

    "/api/v0.1/accounts/<account_id>/codecs/<codec_id>/": {
        "GET": "getCodecDetails",
        "PUT": "setCodecDetails"
    },

    "/api/v0.1/accounts/<account_id>/call/": {
        "POST": {
            "ring_id": "placeCall"
        }
    },

    "/api/v0.1/accounts/<account_id>/certificates/<cert_id>/": {
        "GET": {
            "action": {
                "validate": "validateCertificate",
                "pin" : "pinRemoteCertificate"
            }
        },
        "PUT": {
            "status": {
                "UNDEFINED": "setCertificateStatus",
                "ALLOWED": "setCertificateStatus",
                "BANNED": "setCertificateStatus"
            }
        }
    },

    "/api/v0.1/accounts/<account_id>/message/": {
        "POST": {
            ["ring_id", "mime_type", "message"]: "sendAccountTextMessage"
        }
    },


    "/api/v0.1/message/mime_types/": {
        "GET": "todo"
    },

    "/api/v0.1/messages/<message_id>/": {
        "GET": "getMessageStatus"
    },


    "/api/v0.1/calls/<call_id>/": {
        "PUT": {
            "action": [
                "accept",
                "refuse",
                "hangup",
                "hold",
                "unhold"
            ]
        }
    },


    "/api/v0.1/codecs/": {
        "GET": "getCodecList"
    },


    "/api/v0.1/crypto/tls/": {
        "GET": {
            "type": {
                "settings": "getTlsDefaultSettings",
                "method": "getSupportedTlsMethod"
            }
        }
    },


    "/api/v0.1/certificates/": {
        "GET": "getPinnedCertificates"
    },

    "/api/v0.1/certificate/<cert_id>/": {
        "GET": "getCertificateDetails",
        "POST": {
            "action": {
                "pin": "pinCertificate",
                "unpin": "unpinCertificate"
            }
        }
    },


    "/api/v0.1/audio/plugins/": {
        "GET": "getAudioPluginList"
    },


    "/api/v0.1/video/devices/": {
        "GET": {
            "type": {
                "all": "getDeviceList",
                "default": "getDefaultDevice"
            }
        },
        "PUT": {
            "type": {
                "default": "setDefaultDevice"
            }
        }
    },

    "/api/v0.1/video/<device_name>/settings/": {
        "GET": "getSettings",
        "PUT": "applySettings"
    },

    "/api/v0.1/video/camera/": {
        "GET": "hasCameraStarted",
        "PUT": {
            "action": {
                "start": "startCamera",
                "stop": "stopCamera"
            }
        }
    }
}
